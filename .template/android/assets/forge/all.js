/*! Copyright 2011 Trigger Corp. All rights reserved. */
(function(){var l={};var h={};l.config={modules:{logging:{level:"DEBUG"}}};l.config.uuid="UUID_HERE";h.listeners={};var c={};var g=[];var f=null;var j=false;var n=function(){if(g.length>0){if(!h.debug||window.catalystConnected){j=true;while(g.length>0){var o=g.shift();if(o[0]=="logging.log"){console.log(o[1].message)}h.priv.call.apply(h.priv,o)}j=false}else{f=setTimeout(n,500)}}};h.priv={call:function(v,u,t,p){if((!h.debug||window.catalystConnected||v==="internal.showDebugWarning")&&(g.length==0||j)){var o=l.tools.UUID();var r=true;if(v==="button.onClicked.addListener"||v==="message.toFocussed"){r=false}if(t||p){c[o]={success:t,error:p,onetime:r}}var q={callid:o,method:v,params:u};h.priv.send(q);if(window._forgeDebug){try{q.start=(new Date().getTime())/1000;window._forgeDebug.forge.APICall.apiRequest(q)}catch(s){}}}else{g.push(arguments);if(!f){f=setTimeout(n,500)}}},send:function(o){throw new Error("Forge error: missing bridge to privileged code")},receive:function(o){if(o.callid){if(typeof c[o.callid]===undefined){l.log("Nothing stored for call ID: "+o.callid)}var q=c[o.callid];var p=(typeof o.content==="undefined"?null:o.content);if(q&&q[o.status]){q[o.status](o.content)}if(q&&q.onetime){delete c[o.callid]}if(window._forgeDebug){try{o.end=(new Date().getTime())/1000;window._forgeDebug.forge.APICall.apiResponse(o)}catch(r){}}}else{if(o.event){if(h.listeners[o.event]){h.listeners[o.event].forEach(function(s){if(o.params){s(o.params)}else{s()}})}if(window._forgeDebug){try{o.start=(new Date().getTime())/1000;window._forgeDebug.forge.APICall.apiEvent(o)}catch(r){}}}}}};h.addEventListener=function(o,p){if(h.listeners[o]){h.listeners[o].push(p)}else{h.listeners[o]=[p]}};h.generateQueryString=function(p){if(!p){return""}if(!(p instanceof Object)){return new String(p).toString()}var q=[];var o=function(v,u){if(v===null){return}else{if(v instanceof Array){var s=0;for(var r in v){var t=(u?u:"")+"["+s+"]";s+=1;if(!v.hasOwnProperty(r)){continue}o(v[r],t)}}else{if(v instanceof Object){for(var r in v){if(!v.hasOwnProperty(r)){continue}var t=r;if(u){t=u+"["+r+"]"}o(v[r],t)}}else{q.push(encodeURIComponent(u)+"="+encodeURIComponent(v))}}}};o(p);return q.join("&").replace("%20","+")};h.generateMultipartString=function(p,r){if(typeof p==="string"){return""}var q="";for(var o in p){if(!p.hasOwnProperty(o)){continue}if(p[o]===null){continue}q+="--"+r+"\r\n";q+='Content-Disposition: form-data; name="'+o.replace('"','\\"')+'"\r\n\r\n';q+=p[o].toString()+"\r\n"}return q};h.generateURI=function(p,o){var q="";if(p.indexOf("?")!==-1){q+=p.split("?")[1]+"&";p=p.split("?")[0]}q+=this.generateQueryString(o)+"&";q=q.substring(0,q.length-1);return p+(q?"?"+q:"")};h.disabledModule=function(o,p){var q="The '"+p+"' module is disabled for this app, enable it in your app config and rebuild in order to use this function";l.logging.error(q);o&&o({message:q,type:"UNAVAILABLE",subtype:"DISABLED_MODULE"})};l.enableDebug=function(){h.debug=true;h.priv.call("internal.showDebugWarning",{},null,null);h.priv.call("internal.hideDebugWarning",{},null,null)};setTimeout(function(){if(window.forge&&window.forge.debug){alert("Warning!\n\n'forge.debug = true;' is no longer supported\n\nUse 'forge.enableDebug();' instead.")}},3000);l.barcode={scan:function(p,o){h.disabledModule(o,"barcode")}};l.button={setIcon:function(p,q,o){h.disabledModule(o,"button")},setURL:function(p,q,o){h.disabledModule(o,"button")},onClicked:{addListener:function(o){h.disabledModule(error,"button")}},setBadge:function(p,q,o){h.disabledModule(o,"button")},setBadgeBackgroundColor:function(p,q,o){h.disabledModule(o,"button")},setTitle:function(q,p,o){h.disabledModule(o,"button")}};l.contact={select:function(p,o){h.priv.call("contact.select",{},p,o)}};l.display={orientation:{forcePortrait:function(p,o){h.disabledModule(o,"display")},forceLandscape:function(p,o){h.disabledModule(o,"display")},allowAny:function(p,o){h.disabledModule(o,"display")}}};l.document={reload:function(){return document.location.reload()},location:function(p,o){p(document.location)}};var k={};h.currentOrientation=k;h.currentConnectionState=k;h.addEventListener("internal.orientationChange",function(o){if(h.currentOrientation!=o.orientation){h.currentOrientation=o.orientation;h.priv.receive({event:"event.orientationChange"})}});h.addEventListener("internal.connectionStateChange",function(o){if(o.connected!=h.currentConnectionState.connected||o.wifi!=h.currentConnectionState.wifi){h.currentConnectionState=o;h.priv.receive({event:"event.connectionStateChange"})}});l.event={menuPressed:{addListener:function(p,o){h.addEventListener("menuPressed",p)}},messagePushed:{addListener:function(p,o){h.addEventListener("event.messagePushed",p)}},orientationChange:{addListener:function(p,o){h.addEventListener("event.orientationChange",p);if(k&&h.currentOrientation!==k){h.priv.receive({event:"event.orientationChange"})}}},connectionStateChange:{addListener:function(p,o){h.addEventListener("event.connectionStateChange",p);if(k&&h.currentConnectionState!==k){h.priv.receive({event:"event.connectionStateChange"})}}},appPaused:{addListener:function(p,o){h.addEventListener("event.appPaused",p)}},appResumed:{addListener:function(p,o){h.addEventListener("event.appResumed",p)}}};l.facebook={authorize:function(p,q,o){if(typeof p=="function"){o=q;q=p;p=[]}h.disabledModule(o,"facebook")},logout:function(p,o){h.disabledModule(o,"facebook")},api:function(p,s,r,q,o){if(typeof s=="function"||arguments.length==1){o=r}else{if(typeof r=="function"||arguments.length==2){o=q}}h.disabledModule(o,"facebook")},ui:function(q,p,o){h.disabledModule(o,"facebook")}};l.file={getImage:function(p,q,o){if(typeof p==="function"){o=q;q=p;p={}}if(!p){p={}}h.priv.call("file.getImage",p,q&&function(s){var r={uri:s,name:"Image",type:"image"};if(p.width){r.width=p.width}if(p.height){r.height=p.height}q(r)},o)},getVideo:function(p,q,o){if(typeof p==="function"){o=q;q=p;p={}}if(!p){p={}}h.priv.call("file.getVideo",p,q&&function(s){var r={uri:s,name:"Video",type:"video"};q(r)},o)},getLocal:function(p,q,o){l.tools.getURL(p,function(r){q({uri:r,name:p})},o)},base64:function(p,q,o){h.priv.call("file.base64",p,q,o)},string:function(p,q,o){l.request.ajax({url:p.uri,success:q,error:o})},URL:function(q,r,s,p){if(typeof r==="function"){p=s;s=r}var o={};for(prop in q){o[prop]=q[prop]}o.height=r.height||q.height||undefined;o.width=r.width||q.width||undefined;h.priv.call("file.URL",o,s,p)},isFile:function(p,q,o){if(!p||!("uri" in p)){q(false)}else{h.priv.call("file.isFile",p,q,o)}},cacheURL:function(p,q,o){h.priv.call("file.cacheURL",{url:p},q&&function(r){q({uri:r})},o)},remove:function(p,q,o){h.priv.call("file.remove",p,q,o)},clearCache:function(p,o){h.priv.call("file.clearCache",{},p,o)}};l.file["getLocal"]=function(p,q,o){h.priv.call("file.getLocal",{name:p},q,o)};l.file["string"]=function(p,q,o){h.priv.call("file.string",p,q,o)};l.geolocation={getCurrentPosition:function(r,q,s){if(typeof(r)==="object"){var p=r,t=q,o=s}else{var t=r,o=q,p=s}h.disabledModule(o,"geolocation")}};l.internal={ping:function(p,q,o){h.priv.call("internal.ping",{data:[p]},q,o)},call:h.priv.call};l.is={mobile:function(){return false},desktop:function(){return false},android:function(){return false},ios:function(){return false},chrome:function(){return false},firefox:function(){return false},safari:function(){return false},ie:function(){return false},web:function(){return false},orientation:{portrait:function(){return false},landscape:function(){return false}},connection:{connected:function(){return true},wifi:function(){return true}}};l.is["mobile"]=function(){return true};l.is["android"]=function(){return true};l.is["orientation"]["portrait"]=function(){return h.currentOrientation=="portrait"};l.is["orientation"]["landscape"]=function(){return h.currentOrientation=="landscape"};l.is["connection"]["connected"]=function(){return h.currentConnectionState.connected};l.is["connection"]["wifi"]=function(){return h.currentConnectionState.wifi};var d=function(u,s,v){var q=[];stylize=function(x,w){return x};function o(w){return w instanceof RegExp||(typeof w==="object"&&Object.prototype.toString.call(w)==="[object RegExp]")}function p(w){return w instanceof Array||Array.isArray(w)||(w&&w!==Object.prototype&&p(w.__proto__))}function r(y){if(y instanceof Date){return true}if(typeof y!=="object"){return false}var w=Date.prototype&&Object.getOwnPropertyNames(Date.prototype);var x=y.__proto__&&Object.getOwnPropertyNames(y.__proto__);return JSON.stringify(x)===JSON.stringify(w)}function t(I,F){try{if(I&&typeof I.inspect==="function"&&!(I.constructor&&I.constructor.prototype===I)){return I.inspect(F)}switch(typeof I){case"undefined":return stylize("undefined","undefined");case"string":var w="'"+JSON.stringify(I).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return stylize(w,"string");case"number":return stylize(""+I,"number");case"boolean":return stylize(""+I,"boolean")}if(I===null){return stylize("null","null")}if(I instanceof Document){return(new XMLSerializer()).serializeToString(I)}var C=Object.keys(I);var J=s?Object.getOwnPropertyNames(I):C;if(typeof I==="function"&&J.length===0){var x=I.name?": "+I.name:"";return stylize("[Function"+x+"]","special")}if(o(I)&&J.length===0){return stylize(""+I,"regexp")}if(r(I)&&J.length===0){return stylize(I.toUTCString(),"date")}var y,G,D;if(p(I)){G="Array";D=["[","]"]}else{G="Object";D=["{","}"]}if(typeof I==="function"){var B=I.name?": "+I.name:"";y=" [Function"+B+"]"}else{y=""}if(o(I)){y=" "+I}if(r(I)){y=" "+I.toUTCString()}if(J.length===0){return D[0]+y+D[1]}if(F<0){if(o(I)){return stylize(""+I,"regexp")}else{return stylize("[Object]","special")}}q.push(I);var A=J.map(function(L){var K,M;if(I.__lookupGetter__){if(I.__lookupGetter__(L)){if(I.__lookupSetter__(L)){M=stylize("[Getter/Setter]","special")}else{M=stylize("[Getter]","special")}}else{if(I.__lookupSetter__(L)){M=stylize("[Setter]","special")}}}if(C.indexOf(L)<0){K="["+L+"]"}if(!M){if(q.indexOf(I[L])<0){if(F===null){M=t(I[L])}else{M=t(I[L],F-1)}if(M.indexOf("\n")>-1){if(p(I)){M=M.split("\n").map(function(N){return"  "+N}).join("\n").substr(2)}else{M="\n"+M.split("\n").map(function(N){return"   "+N}).join("\n")}}}else{M=stylize("[Circular]","special")}}if(typeof K==="undefined"){if(G==="Array"&&L.match(/^\d+$/)){return M}K=JSON.stringify(""+L);if(K.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){K=K.substr(1,K.length-2);K=stylize(K,"name")}else{K=K.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");K=stylize(K,"string")}}return K+": "+M});q.pop();var H=0;var z=A.reduce(function(K,L){H++;if(L.indexOf("\n")>=0){H++}return K+L.length+1},0);if(z>50){A=D[0]+(y===""?"":y+"\n ")+" "+A.join(",\n  ")+" "+D[1]}else{A=D[0]+y+" "+A.join(", ")+" "+D[1]}return A}catch(E){return"[No string representation]"}}return t(u,(typeof v==="undefined"?2:v))};var i=function(p,q){if("logging" in l.config){var o=l.config.logging.marker||"FORGE"}else{var o="FORGE"}p="["+o+"] "+(p.indexOf("\n")===-1?"":"\n")+p;h.priv.call("logging.log",{message:p,level:q});if(typeof console!=="undefined"){switch(q){case 10:if(console.debug!==undefined&&!(console.debug.toString&&console.debug.toString().match("alert"))){console.debug(p)}break;case 30:if(console.warn!==undefined&&!(console.warn.toString&&console.warn.toString().match("alert"))){console.warn(p)}break;case 40:case 50:if(console.error!==undefined&&!(console.error.toString&&console.error.toString().match("alert"))){console.error(p)}break;default:case 20:if(console.info!==undefined&&!(console.info.toString&&console.info.toString().match("alert"))){console.info(p)}break}}};var a=function(o,p){if(o in l.logging.LEVELS){return l.logging.LEVELS[o]}else{l.logging.__logMessage("Unknown configured logging level: "+o);return p}};var b=function(p){var s=function(t){if(t.message){return t.message}else{if(t.description){return t.description}else{return""+t}}};if(p){var r="\nError: "+s(p);try{if(p.lineNumber){r+=" on line number "+p.lineNumber}if(p.fileName){var o=p.fileName;r+=" in file "+o.substr(o.lastIndexOf("/")+1)}}catch(q){}if(p.stack){r+="\r\nStack trace:\r\n"+p.stack}return r}return""};l.logging={LEVELS:{ALL:0,DEBUG:10,INFO:20,WARNING:30,ERROR:40,CRITICAL:50},debug:function(p,o){l.logging.log(p,o,l.logging.LEVELS.DEBUG)},info:function(p,o){l.logging.log(p,o,l.logging.LEVELS.INFO)},warning:function(p,o){l.logging.log(p,o,l.logging.LEVELS.WARNING)},error:function(p,o){l.logging.log(p,o,l.logging.LEVELS.ERROR)},critical:function(p,o){l.logging.log(p,o,l.logging.LEVELS.CRITICAL)},log:function(p,o,s){if(typeof(s)==="undefined"){var s=l.logging.LEVELS.INFO}try{var q=a(l.config.logging.level,l.logging.LEVELS.ALL)}catch(r){var q=l.logging.LEVELS.ALL}if(s>=q){i(d(p,false,10)+b(o),s)}}};l.media={videoPlay:function(p,q,o){if(!p.uri){p={uri:p}}h.priv.call("media.videoPlay",p,q,o)}};l.message={listen:function(p,q,o){h.disabledModule(o,"message")},broadcast:function(p,q,r,o){h.disabledModule(o,"message")},broadcastBackground:function(p,q,r,o){h.disabledModule(o,"message")},toFocussed:function(p,q,r,o){h.disabledModule(o,"message")}};l.notification={create:function(r,q,p,o){h.disabledModule(o,"notification")}};var e={};var m=l.event.messagePushed;e.push={subscribe:function(p,q,o){h.priv.call("partners.parse.push.subscribe",{channel:p},q,o)},unsubscribe:function(p,q,o){h.priv.call("partners.parse.push.unsubscribe",{channel:p},q,o)},subscribedChannels:function(p,o){h.priv.call("partners.parse.push.subscribedChannels",{},p,o)},messagePushed:{addListener:function(p,o){m.addListener(p,o);h.priv.call("partners.parse.push.messagePushed",{})}}};l.partners=l.partners||{};l.partners["parse"]={push:{subscribe:e.push.subscribe,unsubscribe:e.push.unsubscribe,subscribedChannels:e.push.subscribedChannels}};l.event["messagePushed"]=e.push.messagePushed;l.payments={purchaseProduct:function(p,q,o){h.disabledModule(o,"payments")},restoreTransactions:function(p,o){h.disabledModule(o,"payments")},transactionReceived:{addListener:function(p,o){h.disabledModule(o,"payments")}}};l.prefs={get:function(p,q,o){h.priv.call("prefs.get",{key:p.toString()},q&&function(r){if(r==="undefined"){r=undefined}else{try{r=JSON.parse(r)}catch(s){o({message:s.toString()});return}}q(r)},o)},set:function(p,q,r,o){if(q===undefined){q="undefined"}else{q=JSON.stringify(q)}h.priv.call("prefs.set",{key:p.toString(),value:q},r,o)},keys:function(p,o){h.priv.call("prefs.keys",{},p,o)},all:function(p,o){var p=p&&function(q){for(key in q){if(q[key]==="undefined"){q[key]=undefined}else{q[key]=JSON.parse(q[key])}}p(q)};h.priv.call("prefs.all",{},p,o)},clear:function(p,q,o){h.priv.call("prefs.clear",{key:p.toString()},q,o)},clearAll:function(p,o){h.priv.call("prefs.clearAll",{},p,o)}};l.reload={updateAvailable:function(p,o){h.priv.call("reload.updateAvailable",{},p,o)},update:function(p,o){h.priv.call("reload.update",{},p,o)},applyNow:function(p,o){l.logging.error("reload.applyNow has been disabled, please see docs.trigger.io for more information.");o({message:"reload.applyNow has been disabled, please see docs.trigger.io for more information.",type:"UNAVAILABLE"})},switchStream:function(p,q,o){h.priv.call("reload.switchStream",{streamid:p},q,o)},updateReady:{addListener:function(p,o){h.addEventListener("reload.updateReady",p)}}};l.request={get:function(p,q,o){l.request.ajax({url:p,dataType:"text",success:q&&function(){try{arguments[0]=JSON.parse(arguments[0])}catch(r){}q.apply(this,arguments)},error:o})}};l.request["ajax"]=function(q){var u=(q.files?q.files:null);var D=(q.fileUploadMethod?q.fileUploadMethod:"multipart");var t=(q.url?q.url:null);var v=(q.success?q.success:undefined);var C=(q.error?q.error:undefined);var s=(q.username?q.username:null);var o=(q.password?q.password:null);var H=(q.accepts?q.accepts:["*/*"]);var z=(q.cache?q.cache:false);var F=(q.contentType?q.contentType:null);var I=(q.data?q.data:null);var B=(q.dataType?q.dataType:null);var p=(q.headers?q.headers:{});var w=(q.timeout?q.timeout:60000);var r=(q.type?q.type:"GET");if(typeof H==="string"){H=[H]}var E=null;if(u){r="POST";if(D=="multipart"){E=l.tools.UUID().replace(/-/g,"");I=h.generateMultipartString(I,E);F="multipart/form-data; boundary="+E}else{if(D=="raw"){if(u.length>1){l.logging.warning("Only one file can be uploaded at once with type 'raw'");u=[u[0]]}I=null;F="image/jpg"}}}else{if(r=="GET"){t=h.generateURI(t,I);I=null}else{if(I){I=h.generateQueryString(I);if(!F){F="application/x-www-form-urlencoded"}}}}if(z){z={};z["wm"+Math.random()]=Math.random();t=h.generateURI(t,z)}if(H){p.Accept=H.join(",")}if(F){p["Content-Type"]=F}var A={};if(window._forgeDebug){try{A.id=l.tools.UUID();A.fromUrl=window.location.href;A.reqTime=(new Date()).getTime()/1000;A.method=r;A.data=I;A.url=t;_forgeDebug.wi.NetworkNotify.identifierForInitialRequest(A.id,A.url,{url:A.fromUrl,frameId:0,loaderId:0},[]);_forgeDebug.wi.NetworkNotify.willSendRequest(A.id,A.reqTime,{url:A.url,httpMethod:A.method,httpHeaderFields:{},requestFormData:A.data},{isNull:true})}catch(G){}}var y=false;var x=setTimeout(function(){if(y){return}y=true;if(window._forgeDebug){try{A.respTime=(new Date()).getTime()/1000;A.respText=I;_forgeDebug.wi.NetworkNotify.didReceiveResponse(A.id,A.reqTime,"XHR",{mimeType:"Unknown",textEncodingName:"",httpStatusCode:1,httpStatusText:"Failure",httpHeaderFields:{},connectionReused:false,connectionID:0,wasCached:false});_forgeDebug.wi.NetworkNotify.setInitialContent(A.id,A.respText,"XHR");_forgeDebug.wi.NetworkNotify.didFinishLoading(A.id,A.respTime)}catch(J){}}C&&C({message:"Request timed out",type:"EXPECTED_FAILURE"})},w);h.priv.call("request.ajax",{url:t,username:s,password:o,data:I,headers:p,timeout:w,type:r,boundary:E,files:u,fileUploadMethod:D},function(L){clearTimeout(x);if(y){return}y=true;if(window._forgeDebug){try{A.respTime=(new Date()).getTime()/1000;A.respText=L;_forgeDebug.wi.NetworkNotify.didReceiveResponse(A.id,A.reqTime,"XHR",{mimeType:"Unknown",textEncodingName:"",httpStatusCode:1,httpStatusText:"Success",httpHeaderFields:{},connectionReused:false,connectionID:0,wasCached:false});_forgeDebug.wi.NetworkNotify.setInitialContent(A.id,A.respText,"XHR");_forgeDebug.wi.NetworkNotify.didFinishLoading(A.id,A.respTime)}catch(M){}}try{if(B=="xml"){var K,J;if(window.DOMParser){K=new DOMParser();J=K.parseFromString(L,"text/xml")}else{J=new ActiveXObject("Microsoft.XMLDOM");J.async="false";J.loadXML(L)}L=J}else{if(B=="json"){L=JSON.parse(L)}}}catch(M){}v&&v(L)},function(){clearTimeout(x);if(y){return}y=true;if(window._forgeDebug){try{A.respTime=(new Date()).getTime()/1000;A.respText=I;_forgeDebug.wi.NetworkNotify.didReceiveResponse(A.id,A.reqTime,"XHR",{mimeType:"Unknown",textEncodingName:"",httpStatusCode:1,httpStatusText:"Failure",httpHeaderFields:{},connectionReused:false,connectionID:0,wasCached:false});_forgeDebug.wi.NetworkNotify.setInitialContent(A.id,A.respText,"XHR");_forgeDebug.wi.NetworkNotify.didFinishLoading(A.id,A.respTime)}catch(J){}}C&&C.apply(this,arguments)})};l.sms={send:function(q,p,o){h.disabledModule(o,"sms")}};l.tabbar={show:function(p,o){h.priv.call("tabbar.show",{},p,o)},hide:function(p,o){h.priv.call("tabbar.hide",{},p,o)},addButton:function(q,p,o){if(q.icon&&q.icon[0]==="/"){q.icon=q.icon.substr(1)}h.priv.call("tabbar.addButton",q,function(r){p&&p({remove:function(t,s){h.priv.call("tabbar.removeButton",{id:r},t,s)},setActive:function(t,s){h.priv.call("tabbar.setActive",{id:r},t,s)},onPressed:{addListener:function(t,s){h.addEventListener("tabbar.buttonPressed."+r,t)}}})},o)},removeButtons:function(p,o){h.priv.call("tabbar.removeButtons",{},p,o)},setTint:function(o,q,p){h.priv.call("tabbar.setTint",{color:o},q,p)},setActiveTint:function(o,q,p){h.priv.call("tabbar.setActiveTint",{color:o},q,p)},setInactive:function(p,o){h.priv.call("tabbar.setInactive",{},p,o)}};l.tabs={open:function(p,q,r,o){if(typeof q==="function"){o=r;r=q;q=false}h.disabledModule(o,"tabs")},openWithOptions:function(p,q,o){h.disabledModule(o,"tabs")},closeCurrent:function(o){h.disabledModule(o,"tabs")}};l.tools={UUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(q){var p=Math.random()*16|0;var o=q=="x"?p:(p&3|8);return o.toString(16)}).toUpperCase()},getURL:function(p,q,o){h.priv.call("tools.getURL",{name:p.toString()},q,o)}};l.topbar={show:function(p,o){h.priv.call("topbar.show",{},p,o)},hide:function(p,o){h.priv.call("topbar.hide",{},p,o)},setTitle:function(q,p,o){h.priv.call("topbar.setTitle",{title:q},p,o)},setTitleImage:function(p,q,o){if(p&&p[0]==="/"){p=p.substr(1)}h.priv.call("topbar.setTitleImage",{icon:p},q,o)},setTint:function(o,q,p){h.priv.call("topbar.setTint",{color:o},q,p)},addButton:function(p,q,o){if(p.icon&&p.icon[0]==="/"){p.icon=p.icon.substr(1)}h.priv.call("topbar.addButton",p,function(r){q&&h.addEventListener("topbar.buttonPressed."+r,q)},o)},removeButtons:function(p,o){h.priv.call("topbar.removeButtons",{},p,o)},homePressed:{addListener:function(p,o){h.addEventListener("topbar.homePressed",p)}}};l.urlhandler={urlLoaded:{addListener:function(p,o){h.disabledModule(o,"urlhandler")}}};h.priv.send=function(p){if(window.__forge["callJavaFromJavaScript"]===undefined){return}var o=((p.params!==undefined)?JSON.stringify(p.params):"");window.__forge["callJavaFromJavaScript"](p.callid,p.method,o)};h.priv.get=function(){var o=JSON.parse(window.__forge["getObjects"]());o.forEach(function(p){h.priv.receive(p)})};h.priv.get();window.addEventListener("load",function(){h.priv.call("internal.hideLaunchImage",{},function(){},function(){})},false);l._get=h.priv.get;window.forge=l;window.forge["reload"]={updateAvailable:l.reload.updateAvailable,update:l.reload.update,applyNow:l.reload.applyNow,switchStream:l.reload.switchStream,updateReady:{addListener:l.reload.updateReady.addListener}};window.forge["ajax"]=l.request.ajax;window.forge["getPage"]=l.request.get;window.forge["createNotification"]=l.notification.create;window.forge["UUID"]=l.tools.UUID;window.forge["getURL"]=l.tools.getURL;window.forge["log"]=l.logging.log;window.forge["button"]["setUrl"]=l.button.setURL;window.forge["button"]["setBadgeText"]=l.button.setBadge;window.forge["file"]["delete"]=l.file.remove;window.forge["file"]["imageURL"]=l.file.URL})();